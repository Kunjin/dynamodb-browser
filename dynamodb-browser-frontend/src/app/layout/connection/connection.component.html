<div [@routerTransition]>
    <h2>Dynamodb Browser Settings</h2>

    <form [formGroup]="connectionForm" class="settings-form" (ngSubmit)="onSubmit()">
        <div>
            <mat-form-field class="settings-full-width">
                <mat-select placeholder="Region" formControlName="awsRegion" disableOptionCentering>
                    <mat-option *ngFor="let region of regions" [value]="region">{{region}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="settings-full-width">
                <mat-select placeholder="Profile" formControlName="awsProfile" disableOptionCentering>
                    <mat-option *ngFor="let profile of profiles" [value]="profile"> {{profile}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div>
            <mat-checkbox formControlName="isAwsProfileUsed"> Use AWS Profile?</mat-checkbox>
        </div>
        <div *ngIf="!isUseAwsProfileChecked">
            <div>
                <mat-form-field>
                    <input matInput placeholder="Access Key" formControlName="accessKey" required>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <input matInput placeholder="Secret Key" type="password" formControlName="secretKey" required>
                    <mat-error *ngIf="connectionForm.get('secretKey')?.hasError('required')">Secret Key is required.</mat-error>
                </mat-form-field>
            </div>
        </div>

            <button type="submit"> Update </button>

    </form>
</div>
